{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport sites from '../sites/index';\nexport default (async query => {\n  const allResults = [];\n  const promises = [];\n\n  for (let i = 0; i < sites.length; i++) {\n    promises.push((async () => {\n      const results = await sites[i].search(query);\n      allResults[i] = {\n        name: sites[i].name,\n        results\n      };\n    })());\n  }\n\n  await _Promise.all(promises);\n  return allResults;\n});","map":{"version":3,"sources":["/home/runner/vidregator-1/lib/search.js"],"names":["sites","query","allResults","promises","i","length","push","results","search","name","all"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,gBAAlB;AAEA,gBAAe,MAAOC,KAAP,IAAiB;AAC9B,QAAMC,UAAU,GAAG,EAAnB;AACA,QAAMC,QAAQ,GAAG,EAAjB;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,KAAK,CAACK,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrCD,IAAAA,QAAQ,CAACG,IAAT,CAAc,CAAC,YAAY;AACzB,YAAMC,OAAO,GAAG,MAAMP,KAAK,CAACI,CAAD,CAAL,CAASI,MAAT,CAAgBP,KAAhB,CAAtB;AACAC,MAAAA,UAAU,CAACE,CAAD,CAAV,GAAgB;AACdK,QAAAA,IAAI,EAAET,KAAK,CAACI,CAAD,CAAL,CAASK,IADD;AAEdF,QAAAA;AAFc,OAAhB;AAID,KANa,GAAd;AAOD;;AAED,QAAM,SAAQG,GAAR,CAAYP,QAAZ,CAAN;AACA,SAAOD,UAAP;AACD,CAhBD","sourcesContent":["import sites from '../sites/index'\n\nexport default async (query) => {\n  const allResults = []\n  const promises = []\n\n  for (let i = 0; i < sites.length; i++) {\n    promises.push((async () => {\n      const results = await sites[i].search(query)\n      allResults[i] = {\n        name: sites[i].name,\n        results\n      }\n    })())\n  }\n  \n  await Promise.all(promises)\n  return allResults\n}"]},"metadata":{},"sourceType":"module"}