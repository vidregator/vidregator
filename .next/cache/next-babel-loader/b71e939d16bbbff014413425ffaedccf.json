{"ast":null,"code":"import search from '../../../lib/search';\nimport cleanQuery from '../../../lib/cleanQuery';\nexport default (async (req, res) => {\n  const query = req.query.query || '';\n  const cleanedQuery = cleanQuery(query);\n\n  if (cleanedQuery.length <= 0) {\n    return res.status(400).send('Please enter a query!');\n  }\n\n  const results = await search(cleanedQuery);\n  return res.status(200).json(results);\n});","map":{"version":3,"sources":["/home/runner/vidregator/pages/api/search/[query].js"],"names":["search","cleanQuery","req","res","query","cleanedQuery","length","status","send","results","json"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMC,KAAK,GAAGF,GAAG,CAACE,KAAJ,CAAUA,KAAV,IAAmB,EAAjC;AACA,QAAMC,YAAY,GAAGJ,UAAU,CAACG,KAAD,CAA/B;;AACA,MAAIC,YAAY,CAACC,MAAb,IAAuB,CAA3B,EAA8B;AAC5B,WAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,uBAArB,CAAP;AACD;;AAED,QAAMC,OAAO,GAAG,MAAMT,MAAM,CAACK,YAAD,CAA5B;AACA,SAAOF,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBG,IAAhB,CAAqBD,OAArB,CAAP;AACD,CATD","sourcesContent":["import search from '../../../lib/search'\nimport cleanQuery from '../../../lib/cleanQuery'\n\nexport default async (req, res) => {\n  const query = req.query.query || ''\n  const cleanedQuery = cleanQuery(query)\n  if (cleanedQuery.length <= 0) {\n    return res.status(400).send('Please enter a query!')\n  }\n\n  const results = await search(cleanedQuery)\n  return res.status(200).json(results)\n}"]},"metadata":{},"sourceType":"module"}