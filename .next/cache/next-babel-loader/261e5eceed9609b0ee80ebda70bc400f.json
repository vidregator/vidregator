{"ast":null,"code":"import search from '../../../lib/search';\nimport cleanQuery from '../../../lib/cleanQuery';\nexport default (async (req, res) => {\n  const query = req.query.query || '';\n  const cleanedQuery = cleanQuery(query);\n\n  if (cleanedQuery.length <= 0) {\n    return res.status(400).send('Please enter a query!');\n  }\n\n  try {\n    const results = await search(cleanedQuery);\n    return res.status(200).json(results);\n  } catch (error) {\n    return res.status(500).send(error.message);\n  }\n});","map":{"version":3,"sources":["/home/runner/vidregator-1/pages/api/search/[query].js"],"names":["search","cleanQuery","req","res","query","cleanedQuery","length","status","send","results","json","error","message"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMC,KAAK,GAAGF,GAAG,CAACE,KAAJ,CAAUA,KAAV,IAAmB,EAAjC;AACA,QAAMC,YAAY,GAAGJ,UAAU,CAACG,KAAD,CAA/B;;AACA,MAAIC,YAAY,CAACC,MAAb,IAAuB,CAA3B,EAA8B;AAC5B,WAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,uBAArB,CAAP;AACD;;AAED,MAAI;AACF,UAAMC,OAAO,GAAG,MAAMT,MAAM,CAACK,YAAD,CAA5B;AACF,WAAOF,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBG,IAAhB,CAAqBD,OAArB,CAAP;AACC,GAHD,CAGE,OAAME,KAAN,EAAa;AACb,WAAOR,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBG,KAAK,CAACC,OAA3B,CAAP;AACD;AACF,CAbD","sourcesContent":["import search from '../../../lib/search'\nimport cleanQuery from '../../../lib/cleanQuery'\n\nexport default async (req, res) => {\n  const query = req.query.query || ''\n  const cleanedQuery = cleanQuery(query)\n  if (cleanedQuery.length <= 0) {\n    return res.status(400).send('Please enter a query!')\n  }\n\n  try {\n    const results = await search(cleanedQuery)\n  return res.status(200).json(results)\n  } catch(error) {\n    return res.status(500).send(error.message)\n  }\n}"]},"metadata":{},"sourceType":"module"}