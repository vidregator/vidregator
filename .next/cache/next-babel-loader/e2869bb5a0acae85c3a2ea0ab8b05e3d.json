{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport sites from '../sites/index';\nexport default (async query => {\n  const allResults = [];\n  const promises = [];\n\n  for (let site of sites) {\n    promises.push((async () => {\n      const results = await site.search(query);\n      allResults.push({\n        name: site.name,\n        results\n      });\n    })());\n  }\n\n  await _Promise.all(promises);\n  return allResults;\n});","map":{"version":3,"sources":["/home/runner/vidregator/lib/search.js"],"names":["sites","query","allResults","promises","site","push","results","search","name","all"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,gBAAlB;AAEA,gBAAe,MAAOC,KAAP,IAAiB;AAC9B,QAAMC,UAAU,GAAG,EAAnB;AACA,QAAMC,QAAQ,GAAG,EAAjB;;AAEA,OAAK,IAAIC,IAAT,IAAiBJ,KAAjB,EAAwB;AACtBG,IAAAA,QAAQ,CAACE,IAAT,CAAc,CAAC,YAAY;AACzB,YAAMC,OAAO,GAAG,MAAMF,IAAI,CAACG,MAAL,CAAYN,KAAZ,CAAtB;AACAC,MAAAA,UAAU,CAACG,IAAX,CAAgB;AACdG,QAAAA,IAAI,EAAEJ,IAAI,CAACI,IADG;AAEdF,QAAAA;AAFc,OAAhB;AAID,KANa,GAAd;AAOD;;AAED,QAAM,SAAQG,GAAR,CAAYN,QAAZ,CAAN;AACA,SAAOD,UAAP;AACD,CAhBD","sourcesContent":["import sites from '../sites/index'\n\nexport default async (query) => {\n  const allResults = []\n  const promises = []\n\n  for (let site of sites) {\n    promises.push((async () => {\n      const results = await site.search(query)\n      allResults.push({\n        name: site.name,\n        results\n      })\n    })())\n  }\n  \n  await Promise.all(promises)\n  return allResults\n}"]},"metadata":{},"sourceType":"module"}