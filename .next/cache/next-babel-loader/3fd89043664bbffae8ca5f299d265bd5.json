{"ast":null,"code":"import fetch from 'isomorphic-unfetch';\nexport default {\n  name: 'YouTube',\n  search: async query => {\n    const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=${(snippet, topicDetails)}&q=${encodeURIComponent(query)}&key=${encodeURIComponent(process.env.YOUTUBE_API_KEY)}`, {\n      headers: {\n        'Accept': 'application/json'\n      }\n    });\n    const json = await res.json();\n    console.log(json.error.errors);\n    console.log(json.topicDetails);\n    return json.items.map(item => ({\n      name: item.snippet.title,\n      description: item.snippet.description,\n      tags: query.split(' '),\n      uploadDate: Date.parse(item.snippet.publishedAt),\n      url: `https://youtube.com/watch?v=${item.id.videoId}`,\n      image: item.snippet.thumbnails.default.url\n    }));\n  }\n};","map":{"version":3,"sources":["/home/runner/vidregator-1/sites/youtube.js"],"names":["fetch","name","search","query","res","snippet","topicDetails","encodeURIComponent","process","env","YOUTUBE_API_KEY","headers","json","console","log","error","errors","items","map","item","title","description","tags","split","uploadDate","Date","parse","publishedAt","url","id","videoId","image","thumbnails","default"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AAEA,eAAe;AACbC,EAAAA,IAAI,EAAE,SADO;AAEbC,EAAAA,MAAM,EAAE,MAAOC,KAAP,IAAiB;AACvB,UAAMC,GAAG,GAAG,MAAMJ,KAAK,CAAE,qDAAD,CAAqDK,OAAO,EAACC,YAA7D,CAA0E,MAAKC,kBAAkB,CAACJ,KAAD,CAAQ,QAAOI,kBAAkB,CAACC,OAAO,CAACC,GAAR,CAAYC,eAAb,CAA8B,EAAjK,EAAoK;AACzLC,MAAAA,OAAO,EAAE;AAAG,kBAAU;AAAb;AADgL,KAApK,CAAvB;AAGA,UAAMC,IAAI,GAAG,MAAMR,GAAG,CAACQ,IAAJ,EAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,KAAL,CAAWC,MAAvB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACN,YAAjB;AACA,WAAOM,IAAI,CAACK,KAAL,CAAWC,GAAX,CAAgBC,IAAD,KAAW;AAC/BlB,MAAAA,IAAI,EAAEkB,IAAI,CAACd,OAAL,CAAae,KADY;AAE/BC,MAAAA,WAAW,EAAEF,IAAI,CAACd,OAAL,CAAagB,WAFK;AAG/BC,MAAAA,IAAI,EAAEnB,KAAK,CAACoB,KAAN,CAAY,GAAZ,CAHyB;AAI/BC,MAAAA,UAAU,EAAEC,IAAI,CAACC,KAAL,CAAWP,IAAI,CAACd,OAAL,CAAasB,WAAxB,CAJmB;AAK/BC,MAAAA,GAAG,EAAG,+BAA8BT,IAAI,CAACU,EAAL,CAAQC,OAAQ,EALrB;AAM/BC,MAAAA,KAAK,EAAEZ,IAAI,CAACd,OAAL,CAAa2B,UAAb,CAAwBC,OAAxB,CAAgCL;AANR,KAAX,CAAf,CAAP;AAQD;AAjBY,CAAf","sourcesContent":["import fetch from 'isomorphic-unfetch'\n\nexport default {\n  name: 'YouTube',\n  search: async (query) => {\n    const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=${snippet,topicDetails}&q=${encodeURIComponent(query)}&key=${encodeURIComponent(process.env.YOUTUBE_API_KEY)}`, {\n      headers: {  'Accept': 'application/json' }\n    })\n    const json = await res.json()\n    console.log(json.error.errors)\n    console.log(json.topicDetails)\n    return json.items.map((item) => ({\n      name: item.snippet.title,\n      description: item.snippet.description,\n      tags: query.split(' '),\n      uploadDate: Date.parse(item.snippet.publishedAt),\n      url: `https://youtube.com/watch?v=${item.id.videoId}`,\n      image: item.snippet.thumbnails.default.url\n    }))\n  }\n}"]},"metadata":{},"sourceType":"module"}